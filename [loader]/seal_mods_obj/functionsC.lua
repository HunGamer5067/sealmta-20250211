local mods = {
  objs = {}
}

mods.objs[80] = {}
mods.objs[80].model = 2188
mods.objs[80].files = {
    txd = "blackjack_table",
    col = "blackjack_table",
    dff = "blackjack_table"
}

mods.objs[81] = {}
mods.objs[81].model = 8418
mods.objs[81].files = {
    txd = "roulette",
    col = "roulette_ball",
    dff = "roulette_ball"
}

mods.objs[82] = {}
mods.objs[82].model = 8417
mods.objs[82].files = {
    txd = "roulette",
    col = "roulette_glass",
    dff = "roulette_glass"
}

mods.objs[83] = {}
mods.objs[83].model = 8416
mods.objs[83].files = {
    txd = "roulette",
    col = "roulette_wheel",
    dff = "roulette_wheel"
}

-- Kukák
mods.objs[84] = {}
mods.objs[84].model = 1328
mods.objs[84].files = {
    txd = "trashcan",
    col = "trashcan1",
    dff = "trashcan1"
}

mods.objs[85] = {}
mods.objs[85].model = 1339
mods.objs[85].files = {
    txd = "trashcan",
    col = "trashcan2",
    dff = "trashcan2"
}

mods.objs[86] = {}
mods.objs[86].model = 1337
mods.objs[86].files = {
    txd = "trashcan",
    col = "trashcan7",
    dff = "trashcan3"
}

mods.objs[87] = {}
mods.objs[87].model = 1359
mods.objs[87].files = {
    txd = "trashcan",
    col = "trashcan4",
    dff = "trashcan4"
}

mods.objs[88] = {}
mods.objs[88].model = 1329
mods.objs[88].files = {
    txd = "trashcan",
    col = "trashcan5",
    dff = "trashcan5"
}

mods.objs[89] = {}
mods.objs[89].model = 1330
mods.objs[89].files = {
    txd = "trashcan",
    col = "trashcan7",
    dff = "trashcan6"
}

mods.objs[90] = {}
mods.objs[90].model = 1574
mods.objs[90].files = {
    txd = "trashcan",
    col = "trashcan7",
    dff = "trashcan7"
}

mods.objs[91] = {}
mods.objs[91].model = 16442
mods.objs[91].files = {
    txd = "trashcan",
    col = "trashcan7_lid",
    dff = "trashcan7_lid"
}

mods.objs[92] = {}
mods.objs[92].model = 5708
mods.objs[92].files = {
    txd = "hospital",
    col = "hospital",
    dff = "hospital"
}

-- Fishing
mods.objs[93] = {}
mods.objs[93].model = 2993
mods.objs[93].files = {
    txd = "fishing",
    col = "fishing_rod",
    dff = "fishing_rod"
}

mods.objs[94] = {}
mods.objs[94].model = 1706
mods.objs[94].files = {
    txd = "fishes",
    col = "fish_greatwhite_leg",
    dff = "fish_greatwhite_leg"
}

mods.objs[95] = {}
mods.objs[95].model = 1712
mods.objs[95].files = {
    txd = "fishes",
    col = "fish_greatwhite",
    dff = "fish_greatwhite"
}

mods.objs[96] = {}
mods.objs[96].model = 1709
mods.objs[96].files = {
    txd = "fishes",
    col = "fish_hardheadcatfish",
    dff = "fish_hardheadcatfish"
}

mods.objs[97] = {}
mods.objs[97].model = 1703
mods.objs[97].files = {
    txd = "fishes",
    col = "fish_mackerel",
    dff = "fish_mackerel"
}

mods.objs[98] = {}
mods.objs[98].model = 1701
mods.objs[98].files = {
    txd = "fishes",
    col = "fish_mahi_leg",
    dff = "fish_mahi_leg"
}

mods.objs[99] = {}
mods.objs[99].model = 1700
mods.objs[99].files = {
    txd = "fishes",
    col = "fish_mahi",
    dff = "fish_mahi"
}

mods.objs[100] = {}
mods.objs[100].model = 1704
mods.objs[100].files = {
    txd = "fishes",
    col = "fish_makoshark",
    dff = "fish_makoshark"
}

mods.objs[101] = {}
mods.objs[101].model = 1705
mods.objs[101].files = {
    txd = "fishes",
    col = "fish_pinksalmon",
    dff = "fish_pinksalmon"
}

mods.objs[102] = {}
mods.objs[102].model = 8570
mods.objs[102].files = {
    txd = "fishes",
    col = "fish_redsalmon",
    dff = "fish_redsalmon"
}

mods.objs[103] = {}
mods.objs[103].model = 16475
mods.objs[103].files = {
    txd = "fishes",
    col = "fish_rooster_leg",
    dff = "fish_rooster_leg"
}

mods.objs[104] = {}
mods.objs[104].model = 1707
mods.objs[104].files = {
    txd = "fishes",
    col = "fish_rooster",
    dff = "fish_rooster"
}

mods.objs[105] = {}
mods.objs[105].model = 1708
mods.objs[105].files = {
    txd = "fishes",
    col = "fish_snapper_leg",
    dff = "fish_snapper_leg"
}

mods.objs[106] = {}
mods.objs[106].model = 1720
mods.objs[106].files = {
    txd = "fishes",
    col = "fish_snapper",
    dff = "fish_snapper"
}

mods.objs[107] = {}
mods.objs[107].model = 1710
mods.objs[107].files = {
    txd = "fishes",
    col = "fish_swordfish",
    dff = "fish_swordfish"
}

mods.objs[108] = {}
mods.objs[108].model = 1711
mods.objs[108].files = {
    txd = "fishes",
    col = "fish_tigershark",
    dff = "fish_tigershark"
}

mods.objs[109] = {}
mods.objs[109].model = 1715
mods.objs[109].files = {
    txd = "fishes",
    col = "fish_tunabluefin",
    dff = "fish_tunabluefin"
}

mods.objs[110] = {}
mods.objs[110].model = 1713
mods.objs[110].files = {
    txd = "fishes",
    col = "fish_tunayellowfin",
    dff = "fish_tunayellowfin"
}

mods.objs[111] = {}
mods.objs[111].model = 1714
mods.objs[111].files = {
    txd = "fishes",
    col = "fish_yellowtailsnapper",
    dff = "fish_yellowtailsnapper"
}

mods.objs[112] = {}
mods.objs[112].model = 1702
mods.objs[112].files = {
    txd = "fishing",
    col = "fishing_rod",
    dff = "fishing_bobber"
}

mods.objs[113] = {}
mods.objs[113].model = 18233
mods.objs[113].files = {
    txd = "fishing",
    col = "des_baitshop",
    dff = "des_baitshop"
}

mods.objs[114] = {}
mods.objs[114].model = 11523
mods.objs[114].files = {
    txd = "fishing",
    col = "des_baitshop_door",
    dff = "des_baitshop_door"
}

mods.objs[115] = {}
mods.objs[115].model = 3410
mods.objs[115].files = {
    txd = "fishing",
    col = "des_baitshop_props",
    dff = "des_baitshop_props"
}

mods.objs[116] = {}
mods.objs[116].model = 16339
mods.objs[116].files = {
    txd = "fishing",
    col = "fishing_tournamentsign",
    dff = "fishing_tournamentsign"
}

mods.objs[117] = {}
mods.objs[117].model = 16340
mods.objs[117].files = {
    txd = "fishing",
    col = "fishing_rod",
    dff = "dummy_skin"
}

mods.objs[118] = {}
mods.objs[118].model = 4849
mods.objs[118].files = {
    txd = "ekszer_alap",
    col = "ekszer_alap",
    dff = "ekszer_alap"
}

mods.objs[119] = {}
mods.objs[119].model = 3466
mods.objs[119].files = {
    txd = "ekszer_alap",
    col = "default_pult",
    dff = "default_pult"
}

mods.objs[120] = {}
mods.objs[120].model = 3464
mods.objs[120].files = {
    txd = "ekszer_alap",
    col = "crashed_pult",
    dff = "crashed_pult"
}

-- Benzinkut
mods.objs[121] = {}
mods.objs[121].model = 5853
mods.objs[121].files = {
    txd = "sg_soil_ground",
    dff = "sunset21_lawn",
    col = "sunset21_lawn"
}

mods.objs[122] = {}
mods.objs[122].model = 5489
mods.objs[122].files = {
    txd = "sg_soil_ground",
    dff = "laeroad24",
    col = "laeroad24"
}

mods.objs[123] = {}
mods.objs[123].model = 5503
mods.objs[123].files = {
    txd = "sg_soil_ground",
    dff = "laeroad38",
    col = "laeroad38"
}

mods.objs[124] = {}
mods.objs[124].model = 5752
mods.objs[124].files = {
    txd = "sg_soil_ground",
    dff = "road_lawn13",
    col = "road_lawn13"
}

mods.objs[125] = {}
mods.objs[125].model = 5409
mods.objs[125].files = {
    txd = "sg_soil",
    dff = "sg_soil_store",
    col = "sg_soil_store"
}

mods.objs[126] = {}
mods.objs[126].model = 8640
mods.objs[126].files = {
    txd = "sg_soil",
    dff = "sg_soil_station",
    col = "sg_soil_station"
}

mods.objs[127] = {}
mods.objs[127].model = 3524
mods.objs[127].files = {
    txd = "sg_soil",
    dff = "sg_soil_glass",
    col = "sg_soil_station"
}

mods.objs[128] = {}
mods.objs[128].model = 3465
mods.objs[128].files = {
    txd = "pump",
    dff = "pump",
    col = "pump"
}

mods.objs[129] = {}
mods.objs[129].model = 1327
mods.objs[129].files = {
    txd = "pistol",
    dff = "pistol",
    col = "pump"
}

-- Tuningoló
mods.objs[130] = {}
mods.objs[130].model = 8842
mods.objs[130].files = {
    txd = "tuning_workshop",
    dff = "tuning_workshop",
    col = "tuning_workshop"
}

mods.objs[131] = {}
mods.objs[131].model = 8068
mods.objs[131].files = {
    txd = "tuning_workshop",
    dff = "tuning_workshop_exterior",
    col = "tuning_workshop_exterior"
}

mods.objs[132] = {}
mods.objs[132].model = 8069
mods.objs[132].files = {
    txd = "tuning_workshop",
    dff = "tuning_workshop_exteriorglass",
    col = "tuning_workshop_exteriorglass"
}

-- Városháza
mods.objs[133] = {}
mods.objs[133].model = 3997
mods.objs[133].files = {
    txd = "cityhall_lan",
    dff = "cityhallblok_LAn",
    col = "cityhallblok_LAn"
}

mods.objs[134] = {}
mods.objs[134].model = 3980
mods.objs[134].files = {
    txd = "cityhall_lan",
    dff = "LAcityhall1_LAn",
    col = "lacityhall1_lan"
}

mods.objs[135] = {}
mods.objs[135].model = 4002
mods.objs[135].files = {
    txd = "cityhall_lan",
    dff = "LAcityhall2_LAn",
    col = "lacityhall1_lan"
}

mods.objs[136] = {}
mods.objs[136].model = 8687
mods.objs[136].files = {
    txd = "cityhall_interior",
    dff = "cityhall_railing2",
    col = "cityhall_railing2"
}

mods.objs[137] = {}
mods.objs[137].model = 8689
mods.objs[137].files = {
    txd = "cityhall_interior",
    dff = "cityhall_railing",
    col = "cityhall_railing"
}

mods.objs[138] = {}
mods.objs[138].model = 8881
mods.objs[138].files = {
    txd = "cityhall_interior",
    dff = "cityhall_interior2",
    col = "cityhall_interior2"
}

mods.objs[139] = {}
mods.objs[139].model = 9071
mods.objs[139].files = {
    txd = "cityhall_interior",
    dff = "cityhall_interior",
    col = "cityhall_interior"
}

-- Elakadás jelző
mods.objs[140] = {}
mods.objs[140].model = 8493
mods.objs[140].files = {
    txd = "roulette",
    dff = "warning",
    col = "roulette_wheel"
}

-- Fegyver hajó
mods.objs[141] = {}
mods.objs[141].model = 10230
mods.objs[141].files = {
    txd = "wpnship",
    dff = "wpnship",
    col = "wpnship"
}

-- Autoker
mods.objs[142] = {}
mods.objs[142].model = 5414
mods.objs[142].files = {
    txd = "autoker",
    dff = "autoker",
    col = "autoker"
}

mods.objs[143] = {}
mods.objs[143].model = 5432
mods.objs[143].files = {
    txd = "5432",
    dff = "5432",
    col = "5432"
}

mods.objs[144] = {}
mods.objs[144].model = 8412
mods.objs[144].files = {
    txd = "bajkevero",
    dff = "bajkevero",
    col = "bajkevero"
}

mods.objs[145] = {}
mods.objs[145].model = 9114
mods.objs[145].files = {
    txd = "bajkevero",
    dff = "bajkevero_door",
    col = "bajkevero_door"
}

-- Electric cucc
mods.objs[146] = {}
mods.objs[146].model = 8838
mods.objs[146].files = {
    txd = "electric",
    dff = "electric_box",
    col = "electric_box"
}

mods.objs[147] = {}
mods.objs[147].model = 8679
mods.objs[147].files = {
    txd = "electric",
    dff = "electric_lever",
    col = "electric_lever"
}

mods.objs[148] = {}
mods.objs[148].model = 8680
mods.objs[148].files = {
    txd = "electric",
    dff = "electric_door",
    col = "electric_door"
}

mods.objs[149] = {}
mods.objs[149].model = 7982
mods.objs[149].files = {
    txd = "int_admiral_casino",
    dff = "int_admiral_casino",
    col = "int_admiral_casino"
}

mods.objs[150] = {}
mods.objs[150].model = 3433
mods.objs[150].files = {
    txd = "int_admiral_casino",
    dff = "int_admiral_casino2",
    col = "int_admiral_casino2"
}

mods.objs[151] = {}
mods.objs[151].model = 8528
mods.objs[151].files = {
    txd = "admiral_neons",
    dff = "admiral_neons",
    col = "admiral_neons"
}

mods.objs[152] = {}
mods.objs[152].model = 8515
mods.objs[152].files = {
    txd = "admiral_props",
    dff = "admiral_props",
    col = "admiral_props"
}

mods.objs[153] = {}
mods.objs[153].model = 8514
mods.objs[153].files = {
    txd = "admiral_props",
    dff = "admiral_props2",
    col = "admiral_props2"
}

mods.objs[154] = {}
mods.objs[154].model = 8504
mods.objs[154].files = {
    txd = "admiral_props",
    dff = "admiral_bar",
    col = "admiral_bar"
}

mods.objs[155] = {}
mods.objs[155].model = 8503
mods.objs[155].files = {
    txd = "admiral_props",
    dff = "admiral_restaurant",
    col = "admiral_restaurant"
}

mods.objs[156] = {}
mods.objs[156].model = 8502
mods.objs[156].files = {
    txd = "admiral_props",
    dff = "admiral_escalator",
    col = "admiral_escalator"
}

mods.objs[157] = {}
mods.objs[157].model = 8501
mods.objs[157].files = {
    txd = "admiral_props",
    dff = "admiral_cashier1",
    col = "admiral_cashier1"
}

mods.objs[158] = {}
mods.objs[158].model = 8500
mods.objs[158].files = {
    txd = "admiral_props",
    dff = "admiral_cashier2",
    col = "admiral_cashier2"
}

mods.objs[159] = {}
mods.objs[159].model = 13872
mods.objs[159].files = {
    txd = "gnibirtok1",
    dff = "gnibirtok1",
    col = "gnibirtok1"
}

function loadMod(cat, ID)
    if cat and ID then
        if mods[cat] and mods[cat][ID] then
            local files = mods[cat][ID].files

            if type(files) == "table" then
                local txd = files.txd
                local col = files.col
                local dff = files.dff

                if fileExists(cat .. "/" .. txd .. ".txd") then
                    local txd_file = engineLoadTXD(cat .. "/" .. txd .. ".txd", true)

                    if txd_file then
                        engineImportTXD(txd_file, mods[cat][ID].model)
                    end

                    txd = nil
                    txd_file = nil
                    collectgarbage("collect")
                end

                if fileExists(cat .. "/" .. col .. ".col") then
                    local col_file = engineLoadCOL(cat .. "/" .. col .. ".col")

                    if col_file then
                        engineReplaceCOL(col_file, mods[cat][ID].model)
                    end

                    col = nil
                    col_file = nil
                    collectgarbage("collect")
                end

                if fileExists(cat .. "/" .. dff .. ".dff") then
                    local dff_file = engineLoadDFF(cat .. "/" .. dff .. ".dff", mods[cat][ID].model)

                    if dff_file then
                        engineReplaceModel(dff_file, mods[cat][ID].model)
                    end

                    dff = nil
                    dff_file = nil
                    collectgarbage("collect")
                end
            else
                local txdPath = mods[cat][ID].files
                local colPath = mods[cat][ID].files
                local dffPath = mods[cat][ID].files

                if mods[cat][ID].txd then
                    txdPath = mods[cat][ID].txd
                end

                if mods[cat][ID].col then
                    colPath = mods[cat][ID].col
                end

                if mods[cat][ID].dff then
                    dffPath = mods[cat][ID].dff
                end

                if fileExists(cat .. "/" .. txdPath .. ".txd") then
                    local txd_file = engineLoadTXD(cat .. "/" .. txdPath .. "", true)

                    if txd_file then
                        engineImportTXD(txd_file, mods[cat][ID].model)
                    end

                    txdPath = nil
                    txd_file = nil
                    collectgarbage("collect")
                end


                if fileExists(cat .. "/" .. colPath .. ".col") then
                    local col_file = engineLoadCOL(cat .. "/" .. colPath .. ".col")

                    if col_file then
                        engineReplaceCOL(col_file, mods[cat][ID].model)
                    end

                    colPath = nil
                    col_file = nil
                    collectgarbage("collect")
                end
                
                if fileExists(cat .. "/" .. dffPath .. ".dff") then
                    local dff_file = engineLoadDFF(cat .. "/" .. dffPath .. ".dff", mods[cat][ID].model)
                    if dff_file then
                        engineReplaceModel(dff_file, mods[cat][ID].model)
                    end

                    dffPath = nil
                    dff_file = nil
                    collectgarbage("collect")
                end
            end
        end
    end
end

function loadCat(cat)
    if cat and mods[cat] then
        for i, v in pairs(mods[cat]) do
            loadMod(cat, i)
        end
    end
end

addEventHandler("onClientResourceStart", getResourceRootElement(), function()
    loadCat("objs")
end)